<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>é§…å‘¨è¾ºã®ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰åº—èˆ—æ¤œç´¢</title>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Microsoft Yahei", sans-serif; 
      margin: 0; 
      padding: 24px; 
      background: #F0E8DB;
      display: flex; 
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container { 
      background: white; 
      padding: 32px; 
      border-radius: 8px; 
      max-width: 600px; 
      width: 100%;
      box-shadow: 0 2px 8px rgba(94, 19, 0, 0.15);
      border: 1px solid #EBDCBB;
      position: relative;
    }
    h1 { font-size: 24px; margin-bottom: 24px; color: #5E1300; text-align: center; }
    form { display: grid; grid-template-columns: 120px 1fr; gap: 16px 16px; }
    label { align-self: center; font-weight: 500; color: #5E1300; }
    input, button { font-size: 14px; padding: 10px 12px; border: 1px solid #BB552F; border-radius: 4px; }
    input:focus { outline: none; border-color: #BB552F; box-shadow: 0 0 0 2px rgba(187, 85, 47, 0.2); }
    button { background: #BB552F; color: white; border: none; cursor: pointer; font-weight: 500; grid-column: 1 / -1; padding: 12px 24px; margin-top: 8px; }
    button:hover { background: #5E1300; }
    .meta { 
      position: absolute; 
      bottom: 8px; 
      right: 12px; 
      font-size: 11px; 
      color: #888; 
      text-align: right;
    }
    .help-text { font-size: 12px; color: #888; margin-top: 4px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ”é§…å‘¨è¾ºã®ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰åº—èˆ—æ¤œç´¢ğŸŸ</h1>

    <form action="/query" method="get" id="searchForm">
      <label for="station_query">é§…å</label>
      <input id="station_query" name="station_query" type="text" placeholder="ä¾‹ï¼šè±Šæ´²" required title="é§…åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" />
      <label for="radius_m">æ¤œç´¢åŠå¾„ï¼ˆãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰</label>
      <input id="radius_m" name="radius_m" type="number" step="50" min="50" max="10000" value="500" required title="æ¤œç´¢åŠå¾„ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" />
      <button type="submit">æ¤œç´¢</button>
    </form>
    <div class="meta">
      é§…æ•°ï¼š{{ station_count }} ãƒ» åº—èˆ—æ•°ï¼š{{ mc_count }}
    </div>
    <script>
      // ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ—¥æœ¬èªã«è¨­å®š
      document.getElementById('searchForm').addEventListener('submit', function(e) {
        var stationInput = document.getElementById('station_query');
        var radiusInput = document.getElementById('radius_m');
        
        // é§…åã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        if (!stationInput.value.trim()) {
          stationInput.setCustomValidity('é§…åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        } else {
          stationInput.setCustomValidity('');
        }
        
        // æ¤œç´¢åŠå¾„ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        if (!radiusInput.value || radiusInput.value <= 0) {
          radiusInput.setCustomValidity('æ¤œç´¢åŠå¾„ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆ50-10000ãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰');
        } else {
          radiusInput.setCustomValidity('');
        }
      });
      
      // å…¥åŠ›æ™‚ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢
      document.getElementById('station_query').addEventListener('input', function() {
        this.setCustomValidity('');
      });
      document.getElementById('radius_m').addEventListener('input', function() {
        this.setCustomValidity('');
      });
    </script>
  </div>
</body>
</html>


